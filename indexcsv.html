<!DOCTYPE html>
<html lang="en">


    <head>
        <meta charset="utf-8">
        <title>D3 Test</title>
        <script type="text/javascript" src="d3/d3.js"></script>
        <script src="http://labratrevenge.com/d3-tip/javascripts/d3.tip.v0.6.3.js"></script>
        <script type="text/javascript" src="LoadValues.js"></script>
        <style>
        .axis path,
        .axis line {
            fill: none;
            stroke: white;
            shape-rendering: crispEdges;
        }

        .axis text {
          fill: white;
            font-family: sans-serif;
            font-size: 11px;
        }



        .d3-tip {
          line-height: 1;
          font-weight: bold;
          padding: 8px;
          background: rgba(188,198,204, 0.8);
          color: #fff;
          border-radius: 2px;
        }

        /* Creates a small triangle extender for the tooltip */
        .d3-tip:after {
          box-sizing: border-box;
          display: inline;
          font-size: 8px;
          width: 100%;
          line-height: 1;
          color: rgba(188,198,204, 0.8);
          content: "\25BC";
          position: absolute;
          text-align: center;
        }

        /* Style northward tooltips differently */
        .d3-tip.n:after {
          margin: -1px 0 0 0;
          top: 100%;
          left: 0;
        }



             text.xText{
              fill: black;
              font: 10px sans-serif;
              text-anchor: middle;
            }
        </style>


    </head>


    <body onload="loadYear()">

      <select id="selectYear" onChange="loadPlayers();">
          <option>SelectYear</option>
      </select>

      <select id="selectPlayer">
          <option id="0">SelectPlayer</option>
      </select>
        <!-- <svg class="chart"></svg> -->
        <script type="text/javascript">

          var datawoo = [];

          function uniq(a) {
              var seen = {};
              return a.filter(function(item) {
                  return seen.hasOwnProperty(item) ? false : (seen[item] = true);
              });
          }







// function loadPlayers() {
//           var yearInput = document.getElementById('selectYear').value;
//           // console.log(yearInput);
//               var dataset = []
//               d3.csv("ATP"+ yearInput +".csv", function(data)
//               {
//                  dataset = data.map(function(d)
//                  {
//                    if(d["Winner"] == "Agassi A.")
//                    {
//                      return [
//                        d["Location"],
//                        d["Tournament"],
//                        d["Date"],
//                        d["Surface"],
//                        d["Round"],
//                        d["Best of"],
//                        d["Winner"],
//                        d["WRank"],
//                        d["W1"],
//                        d["L1"],
//                        d["W2"],
//                        d["L2"],
//                        d["W3"],
//                        d["L3"],
//                        d["W4"],
//                        d["L4"],
//                        d["W5"],
//                        d["L5"],
//                        d["Comment"]
//                        ];
//                    }
//                    else if (d["Loser"] == "Agassi A.")
//                    {
//                      return [
//                        d["Location"],
//                        d["Tournament"],
//                        d["Date"],
//                        d["Surface"],
//                        d["Round"],
//                        d["Best of"],
//                        +d["Loser"],
//                        d["LRank"],
//                        d["W1"],
//                        d["L1"],
//                        d["W2"],
//                        d["L2"],
//                        d["W3"],
//                        d["L3"],
//                        d["W4"],
//                        d["L4"],
//                        d["W5"],
//                        d["L5"],
//                        d["Comment"]
//                        ];
//                      }
//                     else return null;});
//
//                     var count = dataset.length;
//                     while (count > 0)
//                     {
//                       var temp = dataset.pop();
//                       if (temp != null)
//                       {
//                         // console.log(temp);
//                         dataset.unshift(temp);
//                       }
//                       count--;
//                     }
//                     console.log(dataset);
//
//
//                   });
//
// }





// console.log(dataset);
// var dataset = d3.csv("Movies.csv", function(d) {
//   return {
//     Release_Year: new Date(+d.Year, 0, 1), // convert "Year" column to Date
//     // movie: d.Movie
//     // Director: d.Model,
//     // budget: +d.Production_Budget, // convert "Length" column to number
//     // genre: d.genre,
//     // worlwide: +d.Worldwide_Gross_$,
//     // profit: +d.Profit_$
//
//   };
// }, function(error, rows) {
//   console.log(rows);
// });










// console.log(dataset);
// var w = window.innerWidth-30;
// var h = window.innerHeight-20;
        // var padding = 100;
//         var rScale = d3.scale.linear()
//                      .domain([d3.min(dataset, function(d) { return d[2]; }) , d3.max(dataset, function(d) { return d[2]; })])
//                      .range([3, 40]);
//         var svg = d3.select("body")
//             .append("svg")
//             .attr("width", w)
//             .attr("height", h);
//             svg.append("rect")
//                .attr("width", "100%")
//                .attr("height", "100%")
//                .attr("fill", "black");
//
//         // var xAxis = d3.svg.axis()
//         //               .scale(xScale)
//         //               .orient("bottom");
//         // console.log(d3.min(dataset, function(d) { return d; }));
//         var xScale = d3.scale.linear()
//                       .domain([d3.min(dataset, function(d) { return d[1]; }), d3.max(dataset, function(d) { return d[1]; })])
//                       .range([padding, w - padding * 2]);
//         var yScale = d3.scale.linear()
//                       .domain([d3.min(dataset, function(d) { return d[0]; }), d3.max(dataset, function(d) { return d[0]; })])
//                       .range([h - padding, padding]);
//         var xAxis = d3.svg.axis()
//                       .scale(xScale)
//                       .orient("bottom")
//                       .ticks(10);  //Set rough # of ticks
//         var yAxis = d3.svg.axis()
//                       .scale(yScale)
//                       .orient("left")
//                       .ticks(10);
//
//                       var tip = d3.tip()
//                 .attr('class', 'd3-tip')
//                 .offset([-10, 0])
//                 .html(function(d) {
//                   return "<strong>Movie:</strong> <span style='color:#fff'>" + d[3] + "</span>" + "<p></p><strong>Profit:</strong> <span style='color:#fff'>$" + d[2] + "</span>";
//                 })
//
//
//                 svg.call(tip);
//
//
//         svg.selectAll("circle")
//                .data(dataset)
//                .enter()
//                .append("circle")
//                .attr("cx", function(d) {
//                   return xScale(d[1]);
//                   })
//                .attr("cy", function(d) {
//                  return yScale(d[0]);
//                   })
//                .attr("r", function(d) {
//                  return rScale(d[2]);
//                   })
//
//                   .attr("fill", function(d) {
//                     switch (d[4]) {
//                       case "Fantasy":
//                         return "red";
//                       case "Science Fiction":
//                         return "green";
//                       case "Adventure":
//                         return "yellow";
//                       case "Superheroes":
//                         return "orange";
//                       default:
//                         return "blue";}})
//                         .on('mouseover', tip.show)
//       .on('mouseout', tip.hide)
//
//           ;
//
//         // svg.selectAll("text")
//         //       .data(dataset)
//         //       .enter()
//         //       .append("text")
//         //       // .attr("transform", "rotate(10)")
//         //       .text(function(d) {
//         //         return d[3];
//         //         })
//         //       .attr("x", function(d) {
//         //         return xScale(d[1]);
//         //         })
//         //       .attr("y", function(d) {
//         //         return yScale(d[0]);
//         //         })
//         //         // .attr("transform", "rotate(-90)")
//         //
//         //     .attr("font-family", "sans-serif")
//         //     .attr("font-size", "11px")
//         //     .attr("fill", "red");
//
//
//         //     svg.append("g")
//         // // .call(d3.svg.axis()
//         // //             .scale(xScale)
//         // //             .orient("bottom"));
//         //             svg.append("g")
//         //                 .attr("class", "axis")  //Assign "axis" class
//         //                 .call(xAxis);
//         svg.append("g")
//             .attr("class", "axis")
//             .attr("transform", "translate(0," + (h - padding) + ")")
//             .call(xAxis);
//         svg.append("g")
//             .attr("class", "axis")
//             .attr("transform", "translate(" + padding + ",0)")
//             .call(yAxis);
        </script>
    </body>
</html>
